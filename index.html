<!--
I'm new, go easy...

Give Credit were it's due, The_Bugs
-->
<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <title>Matthew's Github Portfolio</title>
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <link href="style.css" rel="stylesheet" type="text/css" />
      <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.15.1/css/all.min.css" />
</head>

  <body>
    <!-- ===== Crossfading page background (bg.png <-> bg2.png) ===== -->
    <div class="page-bg page-bg--day" aria-hidden="true"></div>
    <div class="page-bg page-bg--night" aria-hidden="true"></div>
    <!-- ===== Star Parallax Background ===== -->
    <div id="stars" aria-hidden="true"></div>
    <div id="stars2" aria-hidden="true"></div>
    <div id="stars3" aria-hidden="true"></div>


    <!-- ===== Birds (behind video) ===== -->
    <div class="birds-layer" aria-hidden="true">
      <div class="bird-container bird-container-one">
        <div class="bird bird-one"></div>
      </div>
      <div class="bird-container bird-container-two">
        <div class="bird bird-two"></div>
      </div>
      <div class="bird-container bird-container-three">
        <div class="bird bird-three"></div>
      </div>
      <div class="bird-container bird-container-four">
        <div class="bird bird-four"></div>
      </div>
    </div>


    <!-- ===== Confetti ===== -->
    <div class="confetti-container" aria-hidden="true">
      <div class="confetti">‚óè</div>
      <div class="confetti">‚óÜ</div>
      <div class="confetti">‚ñ†</div>
      <div class="confetti">‚ú¶</div>
      <div class="confetti">‚òÖ</div>
      <div class="confetti">‚óè</div>
      <div class="confetti">‚óÜ</div>
      <div class="confetti">‚ñ†</div>
      <div class="confetti">‚ú¶</div>
      <div class="confetti">‚òÖ</div>
    </div>

    <!-- ===== Animated Title ===== -->
    <div class="site-title-video" aria-hidden="true">
      <img class="title-day" src="Title_Day_Gif.gif" alt="" />
      <img class="title-night" src="Title_Night_gif.gif" alt=""
           onerror="this.onerror=null; this.src='Title_Night_Gif.gif';" />
    </div>

    <div class="search">
      <form action="javascript:search()">
        <input
          id="search"
          value=""
          placeholder="Search..."
          type="input"
          spellcheck="false"
          autocomplete="off"
          autofocus
        />
      </form>
    </div>

    <!-- Buttons: click is reliable and counts as a user gesture -->
    <div class="buttons">
      <button type="button" onmouseover="fishy()">1</button>
      <button type="button" onmouseover="peng()">2</button>
      <button type="button" onmouseover="foot()">#</button>
    </div>

    <!-- Background video frame -->
    <div class="back-img" id="back-img">
      <video id="bgvid" class="bgvid" autoplay muted loop playsinline>
        <source src="TrainRide.webm" type="video/webm" />
      </video>

<!-- ===== Subway Menu Overlay ===== -->
<div class="subway-overlay">

  <div class="wrap">
    <div class="topbar">
      <h1>Subway Map Navigation</h1>
      <p class="hint">New line runs parallel under Code ‚Ä¢ Switching lines retracts the previous line smoothly</p>
    </div>

    <div class="panel">
      <div class="map-card" role="region" aria-label="Subway map">
        <svg viewBox="0 0 1200 520" aria-label="Interactive subway map">
          <!-- ROUTES -->
          <g class="route" data-route="general" style="--prog: 0; --len: 1;">
            <path id="path-general" class="line-base" d="M120 110 H640 Q700 110 700 170 V210 H940" />
            <path class="line-color general"       d="M120 110 H640 Q700 110 700 170 V210 H940" />
            <path class="line-active"              d="M120 110 H640 Q700 110 700 170 V210 H940" />
            <g class="tracker" style="color: var(--general);" transform="translate(120 110)">
              <circle class="tracker-pulse" r="10"></circle>
              <circle class="tracker-dot" r="8"></circle>
            </g>
          </g>

          <g class="route" data-route="art" style="--prog: 0; --len: 1;">
            <path id="path-art" class="line-base" d="M460 60 V210 H700" />
            <path class="line-color art"         d="M460 60 V210 H700" />
            <path class="line-active"            d="M460 60 V210 H700" />
            <g class="tracker" style="color: var(--art);" transform="translate(460 60)">
              <circle class="tracker-pulse" r="10"></circle>
              <circle class="tracker-dot" r="8"></circle>
            </g>
          </g>

          <g class="route" data-route="code" style="--prog: 0; --len: 1;">
            <path id="path-code" class="line-base" d="M140 360 H620 Q660 360 660 320 V260 H700" />
            <path class="line-color code"        d="M140 360 H620 Q660 360 660 320 V260 H700" />
            <path class="line-active"             d="M140 360 H620 Q660 360 660 320 V260 H700" />
            <g class="tracker" style="color: var(--code);" transform="translate(140 360)">
              <circle class="tracker-pulse" r="10"></circle>
              <circle class="tracker-dot" r="8"></circle>
            </g>
          </g>

          <!-- ‚úÖ NEW PARALLEL LINE (horizontal, under Code line) -->
          <g class="route" data-route="parallel" style="--prog: 0; --len: 1;">
            <path id="path-parallel" class="line-base" d="M180 420 H740" />
            <path class="line-color parallel"    d="M180 420 H740" />
            <path class="line-active"            d="M180 420 H740" />
            <g class="tracker" style="color: var(--parallel);" transform="translate(180 420)">
              <circle class="tracker-pulse" r="10"></circle>
              <circle class="tracker-dot" r="8"></circle>
            </g>
          </g>

          <g class="route" data-route="misc" style="--prog: 0; --len: 1;">
            <path id="path-misc" class="line-base" d="M940 70 V420" />
            <path class="line-color misc"        d="M940 70 V420" />
            <path class="line-active"             d="M940 70 V420" />
            <g class="tracker" style="color: var(--misc);" transform="translate(940 70)">
              <circle class="tracker-pulse" r="10"></circle>
              <circle class="tracker-dot" r="8"></circle>
            </g>
          </g>

          <!-- STATIONS -->
          <!-- General -->
          <g class="station" data-id="general" data-title="General" data-parent="general" data-x="120" data-y="110" tabindex="0">
            <circle class="station-ring" cx="120" cy="110" r="14"></circle>
            <circle class="station-node" cx="120" cy="110" r="10"></circle>
            <circle class="station-hit" cx="120" cy="110" r="26"></circle>
            <text class="station-label" x="120" y="78" text-anchor="middle">General</text>
          </g>
          <g class="station" data-id="general-sub-1" data-title="General ‚Ä¢ Sub 1" data-parent="general" data-x="320" data-y="110" tabindex="0">
            <circle class="station-ring" cx="320" cy="110" r="14"></circle>
            <circle class="station-node" cx="320" cy="110" r="10"></circle>
            <circle class="station-hit" cx="320" cy="110" r="26"></circle>
            <text class="station-label" x="320" y="78" text-anchor="middle">General <tspan class="sub">‚Ä¢ Sub 1</tspan></text>
          </g>
          <g class="station" data-id="general-sub-2" data-title="General ‚Ä¢ Sub 2" data-parent="general" data-x="520" data-y="110" tabindex="0">
            <circle class="station-ring" cx="520" cy="110" r="14"></circle>
            <circle class="station-node" cx="520" cy="110" r="10"></circle>
            <circle class="station-hit" cx="520" cy="110" r="26"></circle>
            <text class="station-label" x="520" y="78" text-anchor="middle">General <tspan class="sub">‚Ä¢ Sub 2</tspan></text>
          </g>
          <g class="station" data-id="central" data-title="Central Interchange" data-parent="general" data-x="700" data-y="210" tabindex="0">
            <circle class="station-ring" cx="700" cy="210" r="18"></circle>
            <circle class="station-node interchange" cx="700" cy="210" r="12"></circle>
            <circle class="station-hit" cx="700" cy="210" r="30"></circle>
            <text class="station-label" x="740" y="214" text-anchor="start">Central <tspan class="sub">Interchange</tspan></text>
          </g>
          <g class="station" data-id="general-east" data-title="General ‚Ä¢ East" data-parent="general" data-x="860" data-y="210" tabindex="0">
            <circle class="station-ring" cx="860" cy="210" r="14"></circle>
            <circle class="station-node" cx="860" cy="210" r="10"></circle>
            <circle class="station-hit" cx="860" cy="210" r="26"></circle>
            <text class="station-label" x="860" y="178" text-anchor="middle">General <tspan class="sub">‚Ä¢ East</tspan></text>
          </g>

          <!-- Art -->
          <g class="station" data-id="art" data-title="Art" data-parent="art" data-x="460" data-y="60" tabindex="0">
            <circle class="station-ring" cx="460" cy="60" r="14"></circle>
            <circle class="station-node" cx="460" cy="60" r="10"></circle>
            <circle class="station-hit" cx="460" cy="60" r="26"></circle>
            <text class="station-label" x="460" y="28" text-anchor="middle">Art</text>
          </g>
          <g class="station" data-id="art-sub-1" data-title="Art ‚Ä¢ Sub 1" data-parent="art" data-x="460" data-y="120" tabindex="0">
            <circle class="station-ring" cx="460" cy="120" r="14"></circle>
            <circle class="station-node" cx="460" cy="120" r="10"></circle>
            <circle class="station-hit" cx="460" cy="120" r="26"></circle>
            <text class="station-label" x="420" y="124" text-anchor="end">Art <tspan class="sub">‚Ä¢ Sub 1</tspan></text>
          </g>
          <g class="station" data-id="art-sub-2" data-title="Art ‚Ä¢ Sub 2" data-parent="art" data-x="460" data-y="180" tabindex="0">
            <circle class="station-ring" cx="460" cy="180" r="14"></circle>
            <circle class="station-node" cx="460" cy="180" r="10"></circle>
            <circle class="station-hit" cx="460" cy="180" r="26"></circle>
            <text class="station-label" x="420" y="184" text-anchor="end">Art <tspan class="sub">‚Ä¢ Sub 2</tspan></text>
          </g>
          <g class="station" data-id="art-sub-3" data-title="Art ‚Ä¢ Sub 3" data-parent="art" data-x="460" data-y="240" tabindex="0">
            <circle class="station-ring" cx="460" cy="240" r="14"></circle>
            <circle class="station-node" cx="460" cy="240" r="10"></circle>
            <circle class="station-hit" cx="460" cy="240" r="26"></circle>
            <text class="station-label" x="420" y="244" text-anchor="end">Art <tspan class="sub">‚Ä¢ Sub 3</tspan></text>
          </g>

          <!-- Code -->
          <g class="station" data-id="code" data-title="Code" data-parent="code" data-x="140" data-y="360" tabindex="0">
            <circle class="station-ring" cx="140" cy="360" r="14"></circle>
            <circle class="station-node" cx="140" cy="360" r="10"></circle>
            <circle class="station-hit" cx="140" cy="360" r="26"></circle>
            <text class="station-label" x="140" y="328" text-anchor="middle">Code</text>
          </g>
          <g class="station" data-id="code-sub-1" data-title="Code ‚Ä¢ Sub 1" data-parent="code" data-x="280" data-y="360" tabindex="0">
            <circle class="station-ring" cx="280" cy="360" r="14"></circle>
            <circle class="station-node" cx="280" cy="360" r="10"></circle>
            <circle class="station-hit" cx="280" cy="360" r="26"></circle>
            <text class="station-label" x="280" y="328" text-anchor="middle">Code <tspan class="sub">‚Ä¢ Sub 1</tspan></text>
          </g>
          <g class="station" data-id="code-sub-2" data-title="Code ‚Ä¢ Sub 2" data-parent="code" data-x="420" data-y="360" tabindex="0">
            <circle class="station-ring" cx="420" cy="360" r="14"></circle>
            <circle class="station-node" cx="420" cy="360" r="10"></circle>
            <circle class="station-hit" cx="420" cy="360" r="26"></circle>
            <text class="station-label" x="420" y="328" text-anchor="middle">Code <tspan class="sub">‚Ä¢ Sub 2</tspan></text>
          </g>
          <g class="station" data-id="code-sub-3" data-title="Code ‚Ä¢ Sub 3" data-parent="code" data-x="560" data-y="360" tabindex="0">
            <circle class="station-ring" cx="560" cy="360" r="14"></circle>
            <circle class="station-node" cx="560" cy="360" r="10"></circle>
            <circle class="station-hit" cx="560" cy="360" r="26"></circle>
            <text class="station-label" x="560" y="328" text-anchor="middle">Code <tspan class="sub">‚Ä¢ Sub 3</tspan></text>
          </g>
          <g class="station" data-id="code-sub-4" data-title="Code ‚Ä¢ Sub 4" data-parent="code" data-x="660" data-y="320" tabindex="0">
            <circle class="station-ring" cx="660" cy="320" r="14"></circle>
            <circle class="station-node" cx="660" cy="320" r="10"></circle>
            <circle class="station-hit" cx="660" cy="320" r="26"></circle>
            <text class="station-label" x="660" y="288" text-anchor="middle">Code <tspan class="sub">‚Ä¢ Sub 4</tspan></text>
          </g>

          <!-- Parallel line stops -->
          <g class="station" data-id="parallel" data-title="Parallel" data-parent="parallel" data-x="180" data-y="420" tabindex="0">
            <circle class="station-ring" cx="180" cy="420" r="14"></circle>
            <circle class="station-node" cx="180" cy="420" r="10"></circle>
            <circle class="station-hit" cx="180" cy="420" r="26"></circle>
            <text class="station-label" x="180" y="388" text-anchor="middle">Parallel</text>
          </g>
          <g class="station" data-id="parallel-sub-1" data-title="Parallel ‚Ä¢ Sub 1" data-parent="parallel" data-x="340" data-y="420" tabindex="0">
            <circle class="station-ring" cx="340" cy="420" r="14"></circle>
            <circle class="station-node" cx="340" cy="420" r="10"></circle>
            <circle class="station-hit" cx="340" cy="420" r="26"></circle>
            <text class="station-label" x="340" y="388" text-anchor="middle">Parallel <tspan class="sub">‚Ä¢ Sub 1</tspan></text>
          </g>
          <g class="station" data-id="parallel-sub-2" data-title="Parallel ‚Ä¢ Sub 2" data-parent="parallel" data-x="500" data-y="420" tabindex="0">
            <circle class="station-ring" cx="500" cy="420" r="14"></circle>
            <circle class="station-node" cx="500" cy="420" r="10"></circle>
            <circle class="station-hit" cx="500" cy="420" r="26"></circle>
            <text class="station-label" x="500" y="388" text-anchor="middle">Parallel <tspan class="sub">‚Ä¢ Sub 2</tspan></text>
          </g>
          <g class="station" data-id="parallel-sub-3" data-title="Parallel ‚Ä¢ Sub 3" data-parent="parallel" data-x="660" data-y="420" tabindex="0">
            <circle class="station-ring" cx="660" cy="420" r="14"></circle>
            <circle class="station-node" cx="660" cy="420" r="10"></circle>
            <circle class="station-hit" cx="660" cy="420" r="26"></circle>
            <text class="station-label" x="660" y="388" text-anchor="middle">Parallel <tspan class="sub">‚Ä¢ Sub 3</tspan></text>
          </g>

          <!-- Misc -->
          <g class="station" data-id="misc" data-title="Miscellaneous" data-parent="misc" data-x="940" data-y="70" tabindex="0">
            <circle class="station-ring" cx="940" cy="70" r="14"></circle>
            <circle class="station-node" cx="940" cy="70" r="10"></circle>
            <circle class="station-hit" cx="940" cy="70" r="26"></circle>
            <text class="station-label" x="940" y="38" text-anchor="middle">Misc</text>
          </g>
          <g class="station" data-id="misc-sub-1" data-title="Misc ‚Ä¢ Sub 1" data-parent="misc" data-x="940" data-y="300" tabindex="0">
            <circle class="station-ring" cx="940" cy="300" r="14"></circle>
            <circle class="station-node" cx="940" cy="300" r="10"></circle>
            <circle class="station-hit" cx="940" cy="300" r="26"></circle>
            <text class="station-label" x="980" y="304" text-anchor="start">Misc <tspan class="sub">‚Ä¢ Sub 1</tspan></text>
          </g>
          <g class="station" data-id="misc-sub-2" data-title="Misc ‚Ä¢ Sub 2" data-parent="misc" data-x="940" data-y="360" tabindex="0">
            <circle class="station-ring" cx="940" cy="360" r="14"></circle>
            <circle class="station-node" cx="940" cy="360" r="10"></circle>
            <circle class="station-hit" cx="940" cy="360" r="26"></circle>
            <text class="station-label" x="980" y="364" text-anchor="start">Misc <tspan class="sub">‚Ä¢ Sub 2</tspan></text>
          </g>
          <g class="station" data-id="misc-sub-3" data-title="Misc ‚Ä¢ Sub 3" data-parent="misc" data-x="940" data-y="420" tabindex="0">
            <circle class="station-ring" cx="940" cy="420" r="14"></circle>
            <circle class="station-node" cx="940" cy="420" r="10"></circle>
            <circle class="station-hit" cx="940" cy="420" r="26"></circle>
            <text class="station-label" x="980" y="424" text-anchor="start">Misc <tspan class="sub">‚Ä¢ Sub 3</tspan></text>
          </g>
        </svg>

        <div class="legend" aria-label="Line legend">
          <div class="legend-item"><span class="swatch" style="background:var(--general)"></span>General</div>
          <div class="legend-item"><span class="swatch" style="background:var(--art)"></span>Art</div>
          <div class="legend-item"><span class="swatch" style="background:var(--code)"></span>Code</div>
          <div class="legend-item"><span class="swatch" style="background:var(--parallel)"></span>Parallel</div>
          <div class="legend-item"><span class="swatch" style="background:var(--misc)"></span>Misc</div>
        </div>
      </div>

      <aside class="content" aria-live="polite">
        <h2 id="content-title">General</h2>
        <p id="content-desc">Hover stations; only that station‚Äôs parent line animates. Switching lines retracts the previous line smoothly.</p>
      </aside>
    </div>
  </div>

  <div class="sticky">
    <a href="https://x.com/mrdarrengriffin" target="_top" rel="noopener noreferrer">Follow me on ùïè</a>
  </div>

  <script>
    const routes = new Map(
      Array.from(document.querySelectorAll(".route[data-route]"))
        .map(g => [g.dataset.route, g])
    );

    const stations = Array.from(document.querySelectorAll(".station[data-id]"));
    const contentTitle = document.getElementById("content-title");
    const contentDesc  = document.getElementById("content-desc");

    const pathByRoute = {
      general:  document.getElementById("path-general"),
      art:      document.getElementById("path-art"),
      code:     document.getElementById("path-code"),
      parallel: document.getElementById("path-parallel"),
      misc:     document.getElementById("path-misc"),
    };

    // constant ‚Äútrain speed‚Äù along the path (slow)
    const pxPerSecond = 260;
    const minDurationMs = 220;
    const maxDurationMs = 2200;
    const opacityMs = 220;

    // retract behavior
    const retractMinMs = 280;
    const retractMaxMs = 1400;

    const startPointByRoute = new Map(); // route -> {x,y}

    function setRouteProgress(routeName, prog01) {
      const g = routes.get(routeName);
      if (!g) return;
      const clamped = Math.max(0, Math.min(1, prog01));
      g.style.setProperty("--prog", clamped);
    }

    function moveTracker(routeName, x, y) {
      const g = routes.get(routeName);
      if (!g) return;
      const t = g.querySelector(".tracker");
      if (!t) return;
      t.setAttribute("transform", `translate(${x} ${y})`);
    }

    function setMotionDuration(routeName, ms) {
      const g = routes.get(routeName);
      if (!g) return;

      const active = g.querySelector(".line-active");
      const tracker = g.querySelector(".tracker");
      const dur = `${ms}ms`;

      if (active) active.style.transitionDuration = `${opacityMs}ms, ${dur}`;   // [opacity, dasharray]
      if (tracker) tracker.style.transitionDuration = `${dur}, ${opacityMs}ms`; // [transform, opacity]
    }

    function describeStation(title, parent) {
      const sub = title.includes("‚Ä¢ Sub") ? "subpage" : "page";
      const parentName = parent.charAt(0).toUpperCase() + parent.slice(1);
      return `Viewing <strong>${title}</strong> (${sub}). Animated parent line: <strong>${parentName}</strong>.`;
    }

    function closestLengthOnPath(pathEl, targetX, targetY) {
      const total = pathEl.getTotalLength();

      const samples = 260;
      let bestLen = 0;
      let bestDist2 = Infinity;

      for (let i = 0; i <= samples; i++) {
        const l = (i / samples) * total;
        const p = pathEl.getPointAtLength(l);
        const dx = p.x - targetX;
        const dy = p.y - targetY;
        const d2 = dx*dx + dy*dy;
        if (d2 < bestDist2) { bestDist2 = d2; bestLen = l; }
      }

      const window = total / samples;
      let lo = Math.max(0, bestLen - window);
      let hi = Math.min(total, bestLen + window);

      for (let k = 0; k < 18; k++) {
        const m1 = lo + (hi - lo) / 3;
        const m2 = hi - (hi - lo) / 3;

        const p1 = pathEl.getPointAtLength(m1);
        const p2 = pathEl.getPointAtLength(m2);

        const d1 = (p1.x - targetX)**2 + (p1.y - targetY)**2;
        const d2 = (p2.x - targetX)**2 + (p2.y - targetY)**2;

        if (d1 < d2) hi = m2; else lo = m1;
      }
      return (lo + hi) / 2;
    }

    function initRouteLengthsAndStationMetrics() {
      for (const [route, path] of Object.entries(pathByRoute)) {
        const total = path.getTotalLength();
        const g = routes.get(route);
        if (g) {
          g.style.setProperty("--len", total);
          g.style.setProperty("--prog", 0);
        }
        const start = path.getPointAtLength(0);
        startPointByRoute.set(route, { x: start.x, y: start.y });
      }

      stations.forEach(st => {
        const parent = st.dataset.parent || "general";
        const path = pathByRoute[parent];
        if (!path) return;

        const x = Number(st.dataset.x);
        const y = Number(st.dataset.y);

        const total = path.getTotalLength();
        const lenAt = closestLengthOnPath(path, x, y);
        const prog = total > 0 ? (lenAt / total) : 0;

        st.dataset.lenAt = lenAt.toFixed(3);
        st.dataset.prog = prog.toFixed(6);
      });
    }

    const lastLenAtByRoute = new Map();
    let lastActiveRoute = null;

    function computeDurationMs(route, nextLenAt) {
      const prev = lastLenAtByRoute.get(route);
      const baseLenAt = (lastActiveRoute === route && typeof prev === "number") ? prev : 0;

      const delta = Math.abs(nextLenAt - baseLenAt);
      const pxPerMs = pxPerSecond / 1000;

      let ms = delta / pxPerMs;
      ms = Math.max(minDurationMs, Math.min(maxDurationMs, ms));
      return ms;
    }

    function computeRetractMs(route) {
      const prevLenAt = lastLenAtByRoute.get(route);
      if (typeof prevLenAt !== "number") return retractMinMs;

      const pxPerMs = pxPerSecond / 1000;
      let ms = prevLenAt / pxPerMs; // retract back to 0 over proportional time
      ms = Math.max(retractMinMs, Math.min(retractMaxMs, ms));
      return ms;
    }

    // ‚úÖ Smoothly retract the previous route (if any) before/while switching
    function retractRoute(routeName) {
      if (!routeName) return;

      const g = routes.get(routeName);
      if (!g) return;

      // If it's already inactive & not leaving, nothing to do.
      if (!g.classList.contains("is-active") && !g.classList.contains("is-leaving")) return;

      const ms = computeRetractMs(routeName);
      setMotionDuration(routeName, ms);

      g.classList.remove("is-active");
      g.classList.add("is-leaving");

      // animate prog -> 0
      requestAnimationFrame(() => setRouteProgress(routeName, 0));

      // after retract finishes, fully hide it
      window.setTimeout(() => {
        g.classList.remove("is-leaving");
        // ensure clean state
        setRouteProgress(routeName, 0);
      }, ms + 40);
    }

    // ‚úÖ Route switch: retract old (smooth) + set up new without flash, then animate new to target
    function animateToStation(parent, targetProg, targetLenAt, targetX, targetY) {
      const g = routes.get(parent);
      if (!g) return;

      if (lastActiveRoute && lastActiveRoute !== parent) {
        retractRoute(lastActiveRoute);
      }

      const ms = computeDurationMs(parent, targetLenAt);
      setMotionDuration(parent, ms);

      if (lastActiveRoute !== parent) {
        const start = startPointByRoute.get(parent) || { x: targetX, y: targetY };

        g.classList.add("no-anim");
        g.classList.add("is-active");
        setRouteProgress(parent, 0);
        moveTracker(parent, start.x, start.y);

        void g.getBoundingClientRect();

        requestAnimationFrame(() => {
          g.classList.remove("no-anim");
          requestAnimationFrame(() => {
            setRouteProgress(parent, targetProg);
            moveTracker(parent, targetX, targetY);
          });
        });
      } else {
        g.classList.add("is-active");
        setRouteProgress(parent, targetProg);
        moveTracker(parent, targetX, targetY);
      }

      lastLenAtByRoute.set(parent, targetLenAt);
      lastActiveRoute = parent;
    }

    function previewStation(st) {
      const title  = st.dataset.title || "Page";
      const parent = st.dataset.parent || "general";
      const x      = Number(st.dataset.x);
      const y      = Number(st.dataset.y);
      const prog   = Number(st.dataset.prog ?? 0);
      const lenAt  = Number(st.dataset.lenAt ?? 0);

      animateToStation(parent, prog, lenAt, x, y);

      contentTitle.textContent = title;
      contentDesc.innerHTML = describeStation(title, parent);
    }

    function activateStation(st) {
      const id = st.dataset.id;
      history.replaceState(null, "", `#${encodeURIComponent(id)}`);
      stations.forEach(s => s.classList.remove("is-active"));
      st.classList.add("is-active");
      previewStation(st);
    }

    stations.forEach(st => {
      st.addEventListener("mouseenter", () => previewStation(st));
      st.addEventListener("focus",      () => previewStation(st));

      st.addEventListener("click", (e) => {
        e.preventDefault();
        activateStation(st);
      });

      st.addEventListener("keydown", (e) => {
        if (e.key === "Enter" || e.key === " ") {
          e.preventDefault();
          activateStation(st);
        }
      });
    });

    function activateFromHash() {
      const raw = window.location.hash.replace(/^#/, "");
      const id = decodeURIComponent(raw || "");
      if (!id) return false;
      const target = stations.find(s => s.dataset.id === id);
      if (target) { activateStation(target); return true; }
      return false;
    }

    // init
    initRouteLengthsAndStationMetrics();

    const defaultStation = stations.find(s => s.dataset.id === "general") || stations[0];
    if (defaultStation) activateStation(defaultStation);

    activateFromHash();
    window.addEventListener("hashchange", activateFromHash);
  </script>

</div>


      <!-- Floating Profile Card (top-right of video) -->
      <div class="video-profile-card" aria-label="Profile card">
        <div class="vpc-portrait" aria-hidden="true">
          <div class="vpc-ring"></div>
          <img class="vpc-photo" src="MatthewProfilePic.jpg" alt="Profile picture" />
        </div>

        <div class="vpc-content">
          <div class="vpc-title">
            <div class="vpc-name">Matthew Withers</div>
</div>

          <div class="vpc-role"><span id="vpc-retype">Artist</span></div>

          <div class="vpc-actions">
<button class="vpc-btn" type="button" onclick="vpcCopyEmail('matthew@example.com')" title="Copy email">
              <i class="fas fa-copy"></i> Email
            </button>
            <a class="vpc-btn" href="cv.pdf" download title="Download CV">
              <i class="fas fa-download"></i> CV
            </a>
            <a class="vpc-btn vpc-about" href="#" title="About (external)">
              <i class="fas fa-bolt"></i> About
            </a>
          </div>
        </div>

        <div class="vpc-toast" id="vpc-toast">Copied!</div>
      </div>
    </div>

    <div class="holder"></div>

    <!--==========Bars==========-->
    <div class="bar-1">
      <img
        src="data:image/svg+xml;utf8;base64,PD94bWwgdmVyc2lvbj0iMS4wIiBlbmNvZGluZz0iaXNvLTg4NTktMSI/Pgo8IS0tIEdlbmVyYXRvcjogQWRvYmUgSWxsdXN0cmF0b3IgMTYuMC4wLCBTVkcgRXhwb3J0IFBsdWctSW4gLiBTVkcgVmVyc2lvbjogNi4wMCBCdWlsZCAwKSAgLS0+CjwhRE9DVFlQRSBzdmcgUFVCTElDICItLy9XM0MvL0RURCBTVkcgMS4xLy9FTiIgImh0dHA6Ly93d3cudzMub3JnL0dyYXBoaWNzL1NWRy8xLjEvRFREL3N2ZzExLmR0ZCI+CjxzdmcgeG1sbnM9Imh0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnIiB4bWxuczp4bGluaz0iaHR0cDovL3d3dy53My5vcmcvMTk5OS94bGluayIgdmVyc2lvbj0iMS4xIiBpZD0iQ2FwYV8xIiB4PSIwcHgiIHk9IjBweCIgd2lkdGg9IjEyOHB4IiBoZWlnaHQ9IjEyOHB4IiB2aWV3Qm94PSIwIDAgNTEwIDUxMCIgc3R5bGU9ImVuYWJsZS1iYWNrZ3JvdW5kOm5ldyAwIDAgNTEwIDUxMDsiIHhtbDpzcGFjZT0icHJlc2VydmUiPgo8Zz4KCTxnIGlkPSJmYXZvcml0ZSI+CgkJPHBhdGggZD0iTTI1NSw0ODkuNmwtMzUuNy0zNS43Qzg2LjcsMzM2LjYsMCwyNTcuNTUsMCwxNjAuNjVDMCw4MS42LDYxLjIsMjAuNCwxNDAuMjUsMjAuNGM0My4zNSwwLDg2LjcsMjAuNCwxMTQuNzUsNTMuNTUgICAgQzI4My4wNSw0MC44LDMyNi40LDIwLjQsMzY5Ljc1LDIwLjRDNDQ4LjgsMjAuNCw1MTAsODEuNiw1MTAsMTYwLjY1YzAsOTYuOS04Ni43LDE3NS45NS0yMTkuMywyOTMuMjVMMjU1LDQ4OS42eiIgZmlsbD0iI0ZGRkZGRiIvPgoJPC9nPgo8L2c+Cjwvc3ZnPgo="
        height="40%"
      />
      <p>General</p>&nbsp;&nbsp;&nbsp;
      <div class="menu-1">
        <a href="Resume - Matthew Withers - Jan 20th 2026.pdf">Resume</a><p1>,</p1> &nbsp;&nbsp;
        <a href="https://www.linkedin.com/in/matthew-withers-hr/">LinkedIn</a><p1>,</p1> &nbsp;&nbsp;
        <a href="https://www.youtube.com/@MatthewJamesWithers">Youtube</a><p1>,</p1> &nbsp;&nbsp;
      </div>
    </div>

    <div class="bar-2">
      <img
        src="data:image/svg+xml;utf8;base64,PD94bWwgdmVyc2lvbj0iMS4wIiBlbmNvZGluZz0iaXNvLTg4NTktMSI/Pgo8IS0tIEdlbmVyYXRvcjogQWRvYmUgSWxsdXN0cmF0b3IgMTguMS4xLCBTVkcgRXhwb3J0IFBsdWctSW4gLiBTVkcgVmVyc2lvbjogNi4wMCBCdWlsZCAwKSAgLS0+CjxzdmcgeG1sbnM9Imh0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnIiB4bWxuczp4bGluaz0iaHR0cDovL3d3dy53My5vcmcvMTk5OS94bGluayIgdmVyc2lvbj0iMS4xIiBpZD0iQ2FwYV8xIiB4PSIwcHgiIHk9IjBweCIgdmlld0JveD0iMCAwIDUyNS4xNTIgNTI1LjE1MiIgc3R5bGU9ImVuYWJsZS1iYWNrZ3JvdW5kOm5ldyAwIDAgNTI1LjE1MiA1MjUuMTUyOyIgeG1sOnNwYWNlPSJwcmVzZXJ2ZSIgd2lkdGg9IjEyOHB4IiBoZWlnaHQ9IjEyOHB4Ij4KPGc+Cgk8cGF0aCBkPSJNNDIwLjczNSwzNzEuMjE3Yy0yMC4wMjEsMC0zNy45NDIsNy44NTUtNTEuNTk2LDIwLjI0TDE4MS4xMTIsMjgyLjA5NGMxLjM1Ny02LjA2MSwyLjQwNy0xMi4xNjYsMi40MDctMTguNDY4ICAgYzAtNi4zMDItMS4wNzItMTIuMzg1LTIuNDA3LTE4LjQ2OGwxODUuOTA0LTEwOC4zMzVjMTQuMTc5LDEzLjEyOSwzMi45MzEsMjEuMzM0LDUzLjcxOSwyMS4zMzQgICBjNDMuODI4LDAsNzkuMTQ1LTM1LjI1MSw3OS4xNDUtNzkuMDc5QzQ5OS44OCwzNS4zMzgsNDY0LjU0MSwwLDQyMC43MzUsMGMtNDMuNzQxLDAtNzkuMDc5LDM1LjMzOC03OS4wNzksNzkuMDU3ICAgYzAsNi4zODksMS4wNzIsMTIuMzg1LDIuNDA3LDE4LjQ2OEwxNTguMTU4LDIwNS45NDdjLTE0LjIwMS0xMy4xOTQtMzIuOTMxLTIxLjM3OC01My43NDEtMjEuMzc4ICAgYy00My44MjgsMC03OS4xNDUsMzUuMzE3LTc5LjE0NSw3OS4wNTdzMzUuMzE3LDc5LjA3OSw3OS4xNDUsNzkuMDc5YzIwLjc4NywwLDM5LjU0LTguMjA2LDUzLjcxOS0yMS4zMzRsMTg3LjY5OCwxMDkuNjA0ICAgYy0xLjI5MSw1LjU4LTIuMTAxLDExLjQtMi4xMDEsMTcuMTk5YzAsNDIuNDUsMzQuNTk0LDc2Ljk3OSw3Ni45NzksNzYuOTc5YzQyLjQyOCwwLDc3LjA0NC0zNC41MDcsNzcuMDQ0LTc2Ljk3OSAgIFM0NjMuMTYzLDM3MS4yMTcsNDIwLjczNSwzNzEuMjE3eiIgZmlsbD0iI0ZGRkZGRiIvPgo8L2c+Cjwvc3ZnPgo="
        height="40%"
      />
      <p>Art</p>&nbsp;&nbsp;&nbsp;
      <div class="menu-2">
        <a href="rendergallery.html">Renders</a><p1>,</p1> &nbsp;&nbsp;
        <a href="modelgallery.html">Models</a><p1>,</p1> &nbsp;&nbsp;
        <a href="https://soundcloud.com/organic-analog">Music</a><p1>,</p1> &nbsp;&nbsp;
      </div>
    </div>

    <div class="bar-3">
      <img
        src="data:image/svg+xml;utf8;base64,PD94bWwgdmVyc2lvbj0iMS4wIiBlbmNvZGluZz0iaXNvLTg4NTktMSI/Pgo8IS0tIEdlbmVyYXRvcjogQWRvYmUgSWxsdXN0cmF0b3IgMTYuMC4wLCBTVkcgRXhwb3J0IFBsdWctSW4gLiBTVkcgVmVyc2lvbjogNi4wMCBCdWlsZCAwKSAgLS0+CjwhRE9DVFlQRSBzdmcgUFVCTElDICItLy9XM0MvL0RURCBTVkcgMS4xLy9FTiIgImh0dHA6Ly93d3cudzMub3JnL0dyYXBoaWNzL1NWRy8xLjEvRFREL3N2ZzExLmR0ZCI+CjxzdmcgeG1sbnM9Imh0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnIiB4bWxuczp4bGluaz0iaHR0cDovL3d3dy53My5vcmcvMTk5OS94bGluayIgdmVyc2lvbj0iMS4xIiBpZD0iQ2FwYV8xIiB4PSIwcHgiIHk9IjBweCIgd2lkdGg9IjEyOHB4IiBoZWlnaHQ9IjEyOHB4IiB2aWV3Qm94PSIwIDAgOTQuNTA0IDk0LjUwNCIgc3R5bGU9ImVuYWJsZS1iYWNrZ3JvdW5kOm5ldyAwIDAgOTQuNTA0IDk0LjUwNDsiIHhtbDpzcGFjZT0icHJlc2VydmUiPgo8Zz4KCTxnPgoJCTxwYXRoIGQ9Ik05My45MTgsNDUuODMzTDY5Ljc5OSwyMS43MTRjLTAuNzUtMC43NS0yLjA3Ny0wLjc1LTIuODI3LDBsLTUuMjI5LDUuMjI5Yy0wLjc4MSwwLjc4MS0wLjc4MSwyLjA0NywwLDIuODI4ICAgIGwxNy40NzcsMTcuNDc1TDYxLjc0NCw2NC43MjRjLTAuNzgxLDAuNzgxLTAuNzgxLDIuMDQ3LDAsMi44MjhsNS4yMjksNS4yMjljMC4zNzUsMC4zNzUsMC44ODQsMC41ODcsMS40MTQsMC41ODcgICAgYzAuNTI5LDAsMS4wMzktMC4yMTIsMS40MTQtMC41ODdsMjQuMTE3LTI0LjExOEM5NC42OTksNDcuODgxLDk0LjY5OSw0Ni42MTQsOTMuOTE4LDQ1LjgzM3oiIGZpbGw9IiNGRkZGRkYiLz4KCQk8cGF0aCBkPSJNMzIuNzU5LDY0LjcyNEwxNS4yODUsNDcuMjQ4bDE3LjQ3Ny0xNy40NzVjMC4zNzUtMC4zNzUsMC41ODYtMC44ODMsMC41ODYtMS40MTRjMC0wLjUzLTAuMjEtMS4wMzktMC41ODYtMS40MTQgICAgbC01LjIyOS01LjIyOWMtMC4zNzUtMC4zNzUtMC44ODQtMC41ODYtMS40MTQtMC41ODZjLTAuNTMsMC0xLjAzOSwwLjIxMS0xLjQxNCwwLjU4NkwwLjU4NSw0NS44MzMgICAgYy0wLjc4MSwwLjc4MS0wLjc4MSwyLjA0NywwLDIuODI5TDI0LjcwNCw3Mi43OGMwLjM3NSwwLjM3NSwwLjg4NCwwLjU4NywxLjQxNCwwLjU4N2MwLjUzLDAsMS4wMzktMC4yMTIsMS40MTQtMC41ODdsNS4yMjktNS4yMjkgICAgQzMzLjU0Miw2Ni43NzEsMzMuNTQyLDY1LjUwNSwzMi43NTksNjQuNzI0eiIgZmlsbD0iI0ZGRkZGRiIvPgoJCTxwYXRoIGQ9Ik02MC45NjcsMTMuNmMtMC4yNTQtMC40NjYtMC42ODItMC44MTItMS4xOS0wLjk2MmwtNC4yMzktMS4yNTFjLTEuMDU4LTAuMzE0LTIuMTcyLDAuMjkzLTIuNDg0LDEuMzUyTDMzLjM3NSw3OS4zODIgICAgYy0wLjE1LDAuNTA5LTAuMDkyLDEuMDU2LDAuMTYxLDEuNTIxYzAuMjUzLDAuNDY3LDAuNjgyLDAuODEyLDEuMTksMC45NjNsNC4yMzksMS4yNTFjMC4xODksMC4wNTYsMC4zOCwwLjA4MywwLjU2NywwLjA4MyAgICBjMC44NjMsMCwxLjY2LTAuNTY0LDEuOTE3LTEuNDM1bDE5LjY3OS02Ni42NDRDNjEuMjc4LDE0LjYxMiw2MS4yMjEsMTQuMDY1LDYwLjk2NywxMy42eiIgZmlsbD0iI0ZGRkZGRiIvPgoJPC9nPgo8L2c+Cjwvc3ZnPgo="
        height="40%"
      />
      <p>Code</p>&nbsp;&nbsp;&nbsp;
      <div class="menu-3">
        <a href="https://github.com/MattWithers/MattWithers.github.io">Github</a><p1>,</p1> &nbsp;&nbsp;
        <a href="https://hak5.org">Rubber Ducky</a><p1>,</p1> &nbsp;&nbsp;
        <a href="UnfinishedPage.html">Leetcode</a><p1>,</p1> &nbsp;&nbsp;
      </div>
    </div>

    <div class="bar-4">
      <img
        src="data:image/svg+xml;utf8;base64,PD94bWwgdmVyc2lvbj0iMS4wIiBlbmNvZGluZz0idXRmLTgiPz4KPCEtLSBHZW5lcmF0b3I6IEFkb2JlIElsbHVzdHJhdG9yIDE2LjAuMCwgU1ZHIEV4cG9ydCBQbHVnLUluIC4gU1ZHIFZlcnNpb246IDYuMDAgQnVpbGQgMCkgIC0tPgo8IURPQ1RZUEUgc3ZnIFBVQkxJQyAiLS8vVzNDLy9EVEQgU1ZHIE1uMS8vRU4iICJodHRwOi8vd3d3LnczLm9yZy9HcmFwaGljcy9TVkcvMS4xL0RURC9zdmcxMS5kdGQiPgo8c3ZnIHhtbG5zPSJodHRwOi8vd3d3LnczLm9yZy8yMDAwL3N2ZyIgeG1sbnM6eGxpbms9Imh0dHA6Ly93d3cudzMub3JnLzE5OTkveGxpbmsiIHZlcnNpb249IjEuMSIgaWQ9IkxheWVyXzEiIHg9IjBweCIgeT0iMHB4IiB3aWR0aD0iMTI4cHgiIGhlaWdodD0iMTI4cHgiIHZpZXdCb3g9IjAgMCA1MTIgNTEyIiBlbmFibGUtYmFja2dyb3VuZD0ibmV3IDAgMCA1MTIgNTEyIiB4bWxuczp4c3BhY2U9InByZXNlcnZlIj4KPGc+Cgk8cGF0aCBkPSJNOTcuMzQ0LDQ4Mi4xN2MtMjMuMzExLDAtNDUuMjE1LTkuMDg0LTYxLjY4OS0yNS41NTVjLTM0LjAxLTM0LjAxNC0zNC4wMS04OS4zNjEsMC0xMjMuMzcxTDMwNS4zNDMsNjMuNTQzICAgYzIxLjcyNy0yMS43NSw1MC42NDUtMzMuNzEzLDgxLjM5LTMzLjcxM2MzMC43NSwwLDU5LjY2NywxMS45NjMsODEuMzk1LDMzLjcxM2MyMS43NDgsMjEuNzQ0LDMzLjcyNiw1MC42NDUsMzMuNzI2LDgxLjM4OSAgIGMwLDMwLjc1LTExLjk2NCw1OS42NS0zMy43MDgsODEuMzgxTDI1NS44NDMsNDM4LjU5NmMtNi4zNzQsNi4zNzEtMTYuNjk2LDYuMzcxLTIzLjA2NywwYy02LjM3NC02LjM3My02LjM3NC0xNi42OTUsMC0yMy4wNyAgIGwyMTIuMjk4LTIxMi4yODNjMTUuNTgzLTE1LjU4LDI0LjE1My0zNi4yOTEsMjQuMTUzLTU4LjMxMWMwLTIyLjAxNi04LjU4OC00Mi43NC0yNC4xNjctNTguMzIyICAgYy0xNS41ODMtMTUuNTgtMzYuMjk0LTI0LjE1NC01OC4zMjctMjQuMTU0Yy0yMi4wMjksMC00Mi43NCw4LjU3NC01OC4zMjMsMjQuMTU0TDU4LjcyNSwzNTYuMzExICAgYy0yMS4yODMsMjEuMzAxLTIxLjI4Myw1NS45MzgsMCw3Ny4yMzRjMjAuNjQ1LDIwLjYxNyw1Ni41ODksMjAuNjE3LDc3LjIzMywwbDE4MS4wOTEtMTgxLjEwNSAgIGM0LjkyNC00LjkyNCw3Ljc0NS0xMS43NCw3Ljc0NS0xOC42ODhjMC03LjA0NS0yLjc1NS0xMy42ODYtNy43NTktMTguNjg5Yy0xMC4yOTEtMTAuMjkxLTI3LjA2Ny0xMC4zMjItMzcuMzU4LDBMMTU2LDMzOC43NTQgICBjLTYuMzcsNi4zNzUtMTYuNjk3LDYuMzc1LTIzLjA2NywwYy02LjM3NC02LjM3MS02LjM3NC0xNi42OTcsMC0yMy4wNjZsMTIzLjY3My0xMjMuNjkxYzIzLjAwNS0yMy4wMDQsNjAuNDYxLTIzLjAwNCw4My40OTcsMCAgIGMxMS4xNjksMTEuMTY2LDE3LjMxNywyNiwxNy4zMTcsNDEuNzU2YzAsMTUuNTQ3LTYuMzA4LDMwLjc2Mi0xNy4zLDQxLjc1NEwxNTkuMDI5LDQ1Ni42MTUgICBDMTQyLjU1NSw0NzMuMDg2LDEyMC42NSw0ODIuMTcsOTcuMzQ0LDQ4Mi4xN3oiIGZpbGw9IiNGRkZGRkYiLz4KPC9nPgo8L3N2Zz4K"
        height="40%"
      />
      <p>Games</p>&nbsp;&nbsp;&nbsp;
      <div class="menu-4">
        <a href="DatingSimHTML5/DatingSimPage.html">Cryptid Dating Sim</a><p1>,</p1> &nbsp;&nbsp;
        <a href="HallofProjects/HallofProjects.html">Hall of Forgotten Prototypes</a><p1>,</p1> &nbsp;&nbsp;
      </div>
    </div>

    <div class="bar-5">
      <img
        src="data:image/svg+xml;utf8;base64,PD94bWwgdmVyc2lvbj0iMS4wIiBlbmNvZGluZz0iaXNvLTg4NTktMSI/Pgo8IS0tIEdlbmVyYXRvcjogQWRvYmUgSWxsdXN0cmF0b3IgMTYuMC4wLCBTVkcgRXhwb3J0IFBsdWctSW4gLiBTVkcgVmVyc2lvbjogNi4wMCBCdWlsZCAwKSAgLS0+CjwhRE9DVFlQRSBzdmcgUFVCTElDICItLy9XM0MvL0RURCBTVkcgMS4xLy9FTiIgImh0dHA6Ly93d3cudzMub3JnL0dyYXBoaWNzL1NWRy8xLjEvRFREL3N2ZzExLmR0ZCI+CjxzdmcgeG1sbnM9Imh0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnIiB4bWxuczp4bGluaz0iaHR0cDovL3d3dy53My5vcmcvMTk5OS94bGluayIgdmVyc2lvbj0iMS4xIiBpZD0iQ2FwYV8xIiB4PSIwcHgiIHk9IjBweCIgd2lkdGg9IjI1NnB4IiBoZWlnaHQ9IjI1NnB4IiB2aWV3Qm94PSIwIDAgMjkuODk0IDI5Ljg5NSIgc3R5bGU9ImVuYWJsZS1iYWNrZ3JvdW5kOm5ldyAwIDAgMjkuODk0IDI5Ljg5NTsiIHhtbDpzcGFjZT0icHJlc2VydmUiPgo8Zz4KCTxnPgoJCTxnIGlkPSJJY29uc183XyI+CgkJCTxnPgoJCQkJPHBhdGggZD0iTTE0LjMwOCwxMy4wNDhjMC4zNTUsMC4zNSwwLjkyNCwwLjM1LDEuMjgsMGMxLjIyLTEuMjAzLDMuODEzLTMuODAzLDQuNDUxLTQuNzkyYzAuOTA4LTEuNDA2LDEuODEyLTIuNTY2LDEuODEyLTQuNTkxICAgICAgUzIwLjIxMSwwLDE4LjE4NiwwYy0xLjQxNiwwLTIuNjMsMC44MTItMy4yNCwxLjk4N0MxNC4zMzYsMC44MTIsMTMuMTIzLDAsMTEuNzA3LDBDOS42ODIsMCw4LjA0MiwxLjY0LDguMDQyLDMuNjY1ICAgICAgUzguOTQ3LDYuODUsOS44NTQsOC4yNTZDMTAuNDk1LDkuMjQ0LDEzLjA4OCwxMS44NDUsMTQuMzA4LDEzLjA0OHoiIGZpbGw9IiMwMDAwMDAiLz4KCQkJCTxwYXRoIGQ9Ik0xNS41ODcsMTYuODQ4Yy0wLjM1NS0wLjM1MS0wLjkyNS0wLjM1MS0xLjI4LDBjLTEuMjIsMS4yMDItMy44MTMsMy44MDQtNC40NTIsNC43OTEgICAgICBjLTAuOTA3LDEuNDA2LTEuODEzLDIuNTY2LTEuODEzLDQuNTkzYzAsMi4wMjMsMS42NCwzLjY2MywzLjY2NSwzLjY2M2MxLjQxNiwwLDIuNjMtMC44MTIsMy4yNC0xLjk4NSAgICAgIGMwLjYxMSwxLjE3NSwxLjgyNCwxLjk4NSwzLjI0LDEuOTg1YzIuMDI0LDAsMy42NjUtMS42NCwzLjY2NS0zLjY2M2MwLTIuMDI1LTAuOTA0LTMuMTg3LTEuODEyLTQuNTkzICAgICAgQzE5LjQwMiwyMC42NSwxNi44MDcsMTguMDQ5LDE1LjU4NywxNi44NDh6IiBmaWxsPSIjMDAwMDAwIi8+CgkJCQk8cGF0aCBkPSJNMjcuOTA4LDE0Ljk0N2MxLjE3NC0wLjYxLDEuOTg1LTEuODI0LDEuOTg1LTMuMjRjMC0yLjAyNS0xLjY0LTMuNjY1LTMuNjY0LTMuNjY2Yy0yLjAyNCwwLTMuMTg2LDAuOTA2LTQuNTkyLDEuODEzICAgICAgYy0wLjk4NywwLjYzOS0zLjU5LDMuMjMyLTQuNzkyLDQuNDUyYy0wLjM1MSwwLjM1NS0wLjM1MSwwLjkyNCwwLDEuMjc5YzEuMjAyLDEuMjIsMy44MDUsMy44MTMsNC43OTIsNC40NTMgICAgICBjMS40MDYsMC45MDcsMi41NjYsMS44MTIsNC41OTIsMS44MTJjMi4wMjMsMCwzLjY2NC0xLjY0MiwzLjY2NC0zLjY2NkMyOS44OTYsMTYuNzcxLDI5LjA4MywxNS41NTcsMjcuOTA4LDE0Ljk0N3oiIGZpbGw9IiMwMDAwMDAiLz4KCQkJCTxwYXRoIGQ9Ik0xMy4wNDgsMTUuNTg3YzAuMzUtMC4zNTQsMC4zNS0wLjkyNSwwLTEuMjhjLTEuMjAzLTEuMjItMy44MDQtMy44MTMtNC43OTItNC40NTJDNi44NTEsOC45NDgsNS42OSw4LjA0MiwzLjY2Nyw4LjA0MiAgICAgIGMtMi4wMjUsMC0zLjY2NSwxLjY0MS0zLjY2NSwzLjY2NmMwLDEuNDE2LDAuODEzLDIuNjMsMS45ODcsMy4yNGMtMS4xNzUsMC42MS0xLjk4NywxLjgyMy0xLjk4NywzLjIzOSAgICAgIGMwLDIuMDIzLDEuNjQsMy42NjMsMy42NjVjMi4wMjQsMCwzLjE4NS0wLjkwNSw0LjU5LTEuODEyQzkuMjQ1LDE5LjQsMTEuODQ1LDE2LjgwNywxMy4wNDgsMTUuNTg3eiIgZmlsbD0iIzAwMDAwMCIvPgoJCQk8L2c+CgkJPC9nPgoJPC9nPgo8L2c+Cjwvc3ZnPgo="
        height="40%"
        class="rotate"
      />
      <p>Miscellaneous</p>&nbsp;&nbsp;&nbsp;
      <div class="menu-5">
        <a href="https://www.chess.com/member/blueberryjello">Chess.com</a><p1>,</p1> &nbsp;&nbsp;
        <a href="https://www.goodreads.com/user/show/198183648-matthew-withers">Goodreads</a><p1>,</p1> &nbsp;&nbsp;
      </div>
    </div>

    
<script>
/* ===== Floating profile card behavior (typing + copy email) ===== */
(function () {
  var elem = document.getElementById("vpc-retype");
  if (!elem) return;

  var phrases = ["Artist", "Developer", "Student", "Human"];
  var idx = 0;

  function typeWord(word, i) {
    if (i <= word.length) {
      elem.textContent = word.slice(0, i);
      setTimeout(function () { typeWord(word, i + 1); }, 110);
    } else {
      setTimeout(function () { deleteWord(word.length); }, 1200);
    }
  }

  function deleteWord(i) {
    if (i >= 0) {
      elem.textContent = elem.textContent.slice(0, i);
      setTimeout(function () { deleteWord(i - 1); }, 60);
    } else {
      idx = (idx + 1) % phrases.length;
      typeWord(phrases[idx], 0);
    }
  }

  // start
  typeWord(phrases[idx], 0);
})();

async function vpcCopyEmail(email) {
  try {
    await navigator.clipboard.writeText(email);
    vpcToast("Copied email!");
  } catch (e) {
    var ta = document.createElement("textarea");
    ta.value = email;
    document.body.appendChild(ta);
    ta.select();
    document.execCommand("copy");
    ta.remove();
    vpcToast("Copied email!");
  }
}

var vpcToastTimer = null;
function vpcToast(msg) {
  var toast = document.getElementById("vpc-toast");
  if (!toast) return;
  toast.textContent = msg;
  toast.classList.add("show");
  clearTimeout(vpcToastTimer);
  vpcToastTimer = setTimeout(function () {
    toast.classList.remove("show");
  }, 1200);
}
</script>

<script>
      const NIGHT_VIDEOS = new Set([
        "TrainRideNight.webm",
        "TrainRideNight2.webm",
      ]);

      function setBackgroundForVideo(src) {
        // This toggles bg.png <-> bg2.png with a smooth CSS fade
        document.body.classList.toggle("bg-night", NIGHT_VIDEOS.has(src));
      }

      function setVideo(src) {
        const v = document.getElementById("bgvid");
        if (!v) return;

        setBackgroundForVideo(src);

        // Use direct src assignment (reliable). Keep it muted for autoplay.
        v.pause();
        v.src = src;
        v.load();
        v.play().catch(() => {});
      }

      function fishy() {
        setVideo("TrainRide.webm");
      }
      function peng() {
        setVideo("TrainRideNight.webm");
      }
      function foot() {
        setVideo("TrainRideNight2.webm");
      }

      function search() {
        var query = document.getElementById("search").value;
        window.location = "https://www.google.com/#q=" + query;
      }
    </script>
  
    <script>
      /* ===== Starfield Generator (randomized) ===== */
      (function () {
        const MAX_X = 2000;
        const MAX_Y = 2000;

        function buildShadows(n) {
          const parts = new Array(n);
          for (let i = 0; i < n; i++) {
            const x = Math.floor(Math.random() * MAX_X);
            const y = Math.floor(Math.random() * MAX_Y);
            parts[i] = `${x}px ${y}px #FFF`;
          }
          return parts.join(", ");
        }

        const layers = [
          { id: "stars",  count: 700 },
          { id: "stars2", count: 200 },
          { id: "stars3", count: 100 },
        ];

        for (const layer of layers) {
          const el = document.getElementById(layer.id);
          if (!el) continue;
          el.style.setProperty("--shadows", buildShadows(layer.count));
          el.style.setProperty("--shadows2", buildShadows(layer.count));
        }
      })();
    </script>

  </body>
</html>
